<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-07-31 Wed 21:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Setting Up Doom Emacs</title>
<meta name="author" content="Adithya Bhat" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" href="/assets/styles.css"/>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Setting Up Doom Emacs</h1>
<p>
<b>Links</b>: <a href="/">Home</a> <a href="/CV.html">CV</a> <a href="/Notes">Notes</a> <a href="/Blogs">Blogs</a>
</p>

<ul class="org-ul">
<li>Resources</li>
<li><a href="https://github.com/elken/doom">https://github.com/elken/doom</a></li>
</ul>

<div id="outline-container-org218ef81" class="outline-2">
<h2 id="org218ef81">Disable spelling suggestions from Company</h2>
<div class="outline-text-2" id="text-org218ef81">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-company-backend! 'text-mode '(company-dabbrev company-yasnippet <span class="org-builtin">:separate</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf9b40b" class="outline-2">
<h2 id="orgbf9b40b">Fixes <code>[0/4]</code></h2>
<div class="outline-text-2" id="text-orgbf9b40b">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Fix <code>pdf-tools-install</code></li>
<li>Capture templates <code>[0/3]</code>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Add Submission capture template</li>
<li class="off"><code>[&#xa0;]</code> Add quote capture template</li>
<li class="off"><code>[&#xa0;]</code> Add joke capture template</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org54fb1da" class="outline-2">
<h2 id="org54fb1da">Always compile <code>vterm</code></h2>
<div class="outline-text-2" id="text-org54fb1da">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> vterm-always-compile-module t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org61423fd" class="outline-2">
<h2 id="org61423fd">User details</h2>
<div class="outline-text-2" id="text-org61423fd">
<p>
Place your private configuration here! Remember, you do not need to run 'doom
sync' after modifying this file!
</p>

<p>
Some functionality uses this to identify you, e.g. GPG configuration, email
clients, file templates and snippets. It is optional.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> user-full-name <span class="org-string">"Adithya Bhat"</span>
      user-mail-address <span class="org-string">"dth.bht@gmail.com"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b4207f" class="outline-2">
<h2 id="org7b4207f">Font</h2>
<div class="outline-text-2" id="text-org7b4207f">
<p>
Doom exposes five (optional) variables for controlling fonts in Doom:
</p>
<ul class="org-ul">
<li>`doom-font' &#x2013; the primary font to use</li>
<li>`doom-variable-pitch-font' &#x2013; a non-monospace font (where applicable)</li>
<li>`doom-big-font' &#x2013; used for `doom-big-font-mode'; use this for presentations or streaming.</li>
<li>`doom-unicode-font' &#x2013; for unicode glyphs</li>
<li>`doom-serif-font' &#x2013; for the `fixed-pitch-serif' face</li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span>
 doom-font (font-spec <span class="org-builtin">:family</span> <span class="org-string">"Iosevka Nerd Font"</span> <span class="org-builtin">:size</span> 21 <span class="org-builtin">:weight</span> 'medium)
 doom-big-font (font-spec <span class="org-builtin">:family</span> <span class="org-string">"Iosevka Nerd Font"</span> <span class="org-builtin">:size</span> 26)
 doom-variable-pitch-font (font-spec <span class="org-builtin">:family</span> <span class="org-string">"SF Pro Text"</span> <span class="org-builtin">:size</span> 21))
</pre>
</div>
</div>
</div>
<div id="outline-container-org954d20c" class="outline-2">
<h2 id="org954d20c">Word count</h2>
<div class="outline-text-2" id="text-org954d20c">
<p>
Enable showing a word count in the modeline. This is only shown for the modes listed in doom-modeline-continuous-word-count-modes (Markdown, GFM and Org by default).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> doom-modeline-enable-word-count t)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfcbb0d8" class="outline-2">
<h2 id="orgfcbb0d8">Theme</h2>
<div class="outline-text-2" id="text-orgfcbb0d8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> doom-theme 'doom-one)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbeba250" class="outline-2">
<h2 id="orgbeba250">Default directory</h2>
<div class="outline-text-2" id="text-orgbeba250">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> default-directory <span class="org-string">"~"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org353818e" class="outline-2">
<h2 id="org353818e">Disable mouse</h2>
<div class="outline-text-2" id="text-org353818e">
<p>
Sometimes the mouse gets in the way.
Especially in <code>org-agenda</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> mouse-avoidance-mode 'banish)
</pre>
</div>
</div>
</div>
<div id="outline-container-orge16e2cf" class="outline-2">
<h2 id="orge16e2cf">Line number</h2>
<div class="outline-text-2" id="text-orge16e2cf">
<p>
This determines the style of line numbers in effect.
If set to `nil', it disables all the line numbers.
For relative line numbers, set this to `relative'.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> display-line-numbers-type t)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf72febe" class="outline-2">
<h2 id="orgf72febe">MacOS specific setup</h2>
<div class="outline-text-2" id="text-orgf72febe">
<p>
To ensure that the LaTeX related buffers function properly.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setenv <span class="org-string">"PATH"</span> (concat (getenv <span class="org-string">"PATH"</span>) <span class="org-string">":/Library/TeX/texbin"</span>))
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setenv "PKG_CONFIG_PATH" (concat "/usr/local/Cellar/poppler/22.06.0_1/lib/pkgconfig:" (getenv "PKG_CONFIG_PATH")))</span>
(<span class="org-keyword">setq</span> exec-path (append exec-path '(<span class="org-string">"/Library/TeX/texbin"</span>)))
(<span class="org-keyword">cond</span> (IS-MAC
       (<span class="org-keyword">setq</span> mac-command-modifier       'super
             mac-option-modifier        'meta
             mac-right-option-modifier  'meta)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd4ec1a" class="outline-2">
<h2 id="orgfd4ec1a">Full size window on startup</h2>
<div class="outline-text-2" id="text-orgfd4ec1a">
<p>
FIXME. With <code>yabai</code>, this may not be necessary.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'default-frame-alist '(ns-transparent-titlebar . t))
(add-to-list 'default-frame-alist '(ns-appearance . dark))
</pre>
</div>
</div>
</div>
<div id="outline-container-org501b807" class="outline-2">
<h2 id="org501b807">Auto-revert files that changed on the disk</h2>
<div class="outline-text-2" id="text-org501b807">
<p>
Somehow the below configuration is not working
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-auto-revert-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org024b50f" class="outline-2">
<h2 id="org024b50f">Splash screen</h2>
<div class="outline-text-2" id="text-org024b50f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> fancy-splash-image (file-name-concat doom-private-dir <span class="org-string">"splash.png"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-org5bae1e3" class="outline-2">
<h2 id="org5bae1e3">Allow tiling</h2>
<div class="outline-text-2" id="text-org5bae1e3">
<p>
This allows <code>yabai</code> to work correctly with the Emacs windows.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(menu-bar-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org6c630bf" class="outline-2">
<h2 id="org6c630bf">Spelling</h2>
<div class="outline-text-2" id="text-org6c630bf">
<p>
Resources
</p>
<ul class="org-ul">
<li><a href="https://www.reddit.com/r/emacs/comments/mr3urh/disable_spellfumode_in_doomemacs/">https://www.reddit.com/r/emacs/comments/mr3urh/disable_spellfumode_in_doomemacs/</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> ispell-dictionary <span class="org-string">"english"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org37785af" class="outline-2">
<h2 id="org37785af">Close buffer if the compilation was successful</h2>
<div class="outline-text-2" id="text-org37785af">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">bury-compile-buffer-if-successful</span> (buffer string)
  <span class="org-doc">"Bury a compilation buffer if succeeded without warnings "</span>
  (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (eq major-mode 'comint-mode)
             (string-match <span class="org-string">"finished"</span> string)
             (not
              (<span class="org-keyword">with-current-buffer</span> buffer
                (search-forward <span class="org-string">"warning"</span> nil t))))
    (run-with-timer 1 nil
                    (<span class="org-keyword">lambda</span> (buf)
                      (<span class="org-keyword">let</span> ((window (get-buffer-window buf)))
                        (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (window-live-p window)
                                   (eq buf (window-buffer window)))
                          (delete-window window))))
                    buffer)))

(add-hook 'compilation-finish-functions #'bury-compile-buffer-if-successful)
</pre>
</div>
</div>
</div>
<div id="outline-container-org48b6f70" class="outline-2">
<h2 id="org48b6f70">Helm Locate Patch</h2>
<div class="outline-text-2" id="text-org48b6f70">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! helm
  (<span class="org-keyword">setq</span> helm-locate-command <span class="org-string">"mdfind -name \\\"%2$s\\\""</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfddc2a2" class="outline-2">
<h2 id="orgfddc2a2">Commenting shortcuts</h2>
<div class="outline-text-2" id="text-orgfddc2a2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(map! <span class="org-builtin">:ne</span> <span class="org-string">"M-/"</span> #'comment-or-uncomment-region)
</pre>
</div>
</div>
</div>
<div id="outline-container-org8281aa8" class="outline-2">
<h2 id="org8281aa8">Agenda shortcut</h2>
<div class="outline-text-2" id="text-org8281aa8">
</div>
<div id="outline-container-org9ec3de9" class="outline-3">
<h3 id="org9ec3de9">Configuration</h3>
<div class="outline-text-3" id="text-org9ec3de9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-agenda-custom-commands
      '((<span class="org-string">"."</span> . <span class="org-string">"Custom Commands"</span>)
        (<span class="org-string">".a"</span> <span class="org-string">"Regular Agenda"</span>
         ((agenda nil
                  ((org-agenda-span 'day)
                   (org-agenda-skip-deadline-prewarning-if-scheduled 't)
                   (org-agenda-time-grid nil)
                   (org-agenda-overriding-header <span class="org-string">"Tasks for today"</span>)
                   (org-agenda-skip-function '(org-agenda-skip-entry-if 'todo '(<span class="org-string">"NEXT"</span> <span class="org-string">"CURRENT"</span>)))
                   (org-agenda-prefix-format <span class="org-string">" %i %-12:c%?-12t "</span>)))
          (todo <span class="org-string">"NEXT"</span>
                ((org-agenda-overriding-header <span class="org-string">"Next Tasks"</span>)
                 (org-agenda-prefix-format <span class="org-string">"  %i %-12:c [%e] %b "</span>)))
          (agenda nil
                  ((org-agenda-span 7)
                   (org-deadline-warning-days 0)
                   (org-agenda-time-grid nil)
                   (org-agenda-deadline-leaders '(<span class="org-string">"Deadline: "</span> <span class="org-string">"(%3d d) "</span> <span class="org-string">"(%3d d. ago) "</span>))
                   (org-agenda-overriding-header <span class="org-string">"Deadlines"</span>)
                   (org-agenda-entry-types '(<span class="org-builtin">:deadline</span>))))
          (todo <span class="org-string">"CURRENT"</span>
                ((org-agenda-overriding-header <span class="org-string">"Current Projects"</span>)))))
        (<span class="org-string">".b"</span> <span class="org-string">"Weekly Review"</span>
         ((todo <span class="org-string">"PROJ"</span>
                ((org-agenda-overriding-header <span class="org-string">"Inactive Projects"</span>)))
          (tags-todo <span class="org-string">"+TODO=\"DONE\"|+TODO=\"KILL\""</span>
                     ((org-agenda-overriding-header <span class="org-string">"Finished tasks (Archive)"</span>)))
          (tags-todo <span class="org-string">"+tag-re=\"On+*\""</span>
                     ((org-agenda-overriding-header <span class="org-string">"On Tags"</span>)))
          (todo <span class="org-string">"WAIT"</span>
                ((org-agenda-overriding-header <span class="org-string">"Waiting (Check for Follow-up)"</span>)))
          (todo <span class="org-string">"TODO"</span>
                ((org-agenda-overriding-header <span class="org-string">"All Todos"</span>)))))))
(<span class="org-keyword">defun</span> <span class="org-function-name">hermitsage/org-agenda</span> ()
  <span class="org-doc">"Open all my open loops"</span>
  (<span class="org-keyword">interactive</span>)
  (org-agenda nil <span class="org-string">".a"</span>))
(<span class="org-keyword">defun</span> <span class="org-function-name">hermitsage/org-weekly-review</span> ()
  <span class="org-doc">"Open all the tasks"</span>
  (<span class="org-keyword">interactive</span>)
  (org-agenda nil <span class="org-string">".b"</span>))
(map! <span class="org-builtin">:leader</span>
      <span class="org-builtin">:prefix</span> <span class="org-string">"a"</span>
      <span class="org-string">"a"</span> #'hermitsage/org-agenda
      <span class="org-string">"b"</span> #'org-agenda-list
      <span class="org-string">"c"</span> #'hermitsage/org-weekly-review)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org93bfe76" class="outline-2">
<h2 id="org93bfe76"><code>jk</code> to exit normal mode</h2>
<div class="outline-text-2" id="text-org93bfe76">
<p>
The default was too fast for me.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! evil-escape
  (<span class="org-keyword">setq</span> evil-escape-delay 1.0 ))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcd5508a" class="outline-2">
<h2 id="orgcd5508a">Support encrypting entries</h2>
</div>
<div id="outline-container-org5a795a8" class="outline-2">
<h2 id="org5a795a8">Root Org Directory</h2>
<div class="outline-text-2" id="text-org5a795a8">
<p>
Point to an <code>iCloud</code> directory.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-directory <span class="org-string">"~/iCloud/Research Notes/"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org306d67c" class="outline-2">
<h2 id="org306d67c">Setup org-modern</h2>
<div class="outline-text-2" id="text-org306d67c">
<p>
Sweet font rendering for org buffers.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! org-modern
  <span class="org-builtin">:hook</span> (org-mode . global-org-modern-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc45cbff" class="outline-2">
<h2 id="orgc45cbff">Capture templates</h2>
<div class="outline-text-2" id="text-orgc45cbff">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> +org-capture-todo-file <span class="org-string">"todo.org"</span>
      +org-capture-notes-file <span class="org-string">"notes.org"</span>)
(<span class="org-keyword">setq</span> my/org-capture-project-todo-file <span class="org-string">"todo.org"</span>
      my/org-capture-project-notes-file <span class="org-string">"notes.org"</span>
      my/org-capture-project-changelog-file <span class="org-string">"changes.org"</span>)
(after! org
  (<span class="org-keyword">setq</span> org-capture-templates
        '((<span class="org-string">"t"</span> <span class="org-string">"Personal todo"</span> entry
           (file+headline +org-capture-todo-file <span class="org-string">"00-Inbox"</span>) <span class="org-comment-delimiter">;; </span><span class="org-comment">personal.org</span>
           <span class="org-string">"* TODO %?\nSCHEDULED: &lt;%&lt;%Y-%m-%d %a&gt;&gt;\nCreated: %u\n%a\n%i"</span> <span class="org-builtin">:prepend</span> t)
          (<span class="org-string">"a"</span> <span class="org-string">"Packages"</span> entry
           (file+headline +org-capture-todo-file <span class="org-string">"Packages"</span>) <span class="org-comment-delimiter">;; </span><span class="org-comment">personal.org</span>
           <span class="org-string">"* WAIT &#128230; %?\n SCHEDULED: &lt;%&lt;%Y-%m-%d %a&gt;&gt;\nCreated: %u\n%a\n%i"</span>)
          (<span class="org-string">"b"</span> <span class="org-string">"Book Recommendation"</span> entry
           (file+headline <span class="org-string">"books.org"</span> <span class="org-string">"Recommendations"</span>)
           <span class="org-string">"- [ ] &#128214; %? by ?\nCreated: %u\n"</span>)
          (<span class="org-string">"n"</span> <span class="org-string">"Personal notes"</span> entry
           (file+headline +org-capture-notes-file <span class="org-string">"00-Notes"</span>) <span class="org-comment-delimiter">;; </span><span class="org-comment">notes.org</span>
           <span class="org-string">"* %?\n%i\n%a\nCreated: %u"</span> <span class="org-builtin">:prepend</span> t)
          (<span class="org-string">"i"</span> <span class="org-string">"Research Idea"</span> entry
           (file+headline +org-capture-notes-file <span class="org-string">"00-Ideas"</span>) <span class="org-comment-delimiter">;; </span><span class="org-comment">notes.org</span>
           <span class="org-string">"* %?\n%u"</span>)
          (<span class="org-string">"r"</span> <span class="org-string">"Review"</span> entry (file+headline <span class="org-string">"work.org"</span> <span class="org-string">"PC work"</span>) <span class="org-string">"* PROJ %?\nDEADLINE: &lt;%&lt;%Y-%m-%d %a&gt;&gt;\nCreated: %u\n- Link to review\n- Link to PDF"</span>)
          (<span class="org-string">"x"</span> <span class="org-string">"X Deep Topic"</span> checkitem (file+headline <span class="org-string">"personal.org"</span> <span class="org-string">"Deep Topics"</span>))
          (<span class="org-string">"p"</span> <span class="org-string">"Templates for projects"</span>)
          (<span class="org-string">"pt"</span> <span class="org-string">"Project-local todo"</span> entry
           (file+headline +org-capture-project-todo-file <span class="org-string">"Inbox"</span>)
           <span class="org-string">"* TODO %?\n%a\nCreated: %u\n%i\n"</span> <span class="org-builtin">:prepend</span> t)
          (<span class="org-string">"pn"</span> <span class="org-string">"Project-local notes"</span> entry
           (file+headline +org-capture-project-notes-file <span class="org-string">"Notes"</span>)
           <span class="org-string">"* %?\n%a\n%i\nCreated: %u"</span> <span class="org-builtin">:prepend</span> t)
          (<span class="org-string">"pc"</span> <span class="org-string">"Project-local changelog"</span> entry
           (file+headline +org-capture-project-changelog-file <span class="org-string">"Unreleased"</span>)
           <span class="org-string">"* %U %?\n%a\n%i"</span> <span class="org-builtin">:prepend</span> t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ecbefc" class="outline-2">
<h2 id="org2ecbefc">Task management keywords</h2>
<div class="outline-text-2" id="text-org2ecbefc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! org
  (<span class="org-keyword">setq</span>
   org-todo-keywords '((sequence
                        <span class="org-string">"TODO(t)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">Need this task to be done</span>
                        <span class="org-string">"WAIT(w@/!)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">Waiting for an external event to occur to process this</span>
                        <span class="org-string">"DELEGATED(x@/!)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">Asked for someone's help for this</span>
                        <span class="org-string">"BLOCKED(b@)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">Don't know how to proceed with this task, need help</span>
                        <span class="org-string">"NEXT(n)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">This is the next item that needs to be done for this task</span>
                        <span class="org-string">"|"</span>
                        <span class="org-string">"DONE(d)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">Finished the task successfully</span>
                        <span class="org-string">"KILL(k@)"</span>) <span class="org-comment-delimiter">; </span><span class="org-comment">Cancelled the task</span>
                       (sequence
                        <span class="org-string">"CURRENT(c)"</span><span class="org-comment-delimiter">; </span><span class="org-comment">A collection of active tasks</span>
                        <span class="org-string">"PROJ(q)"</span> <span class="org-comment-delimiter">; </span><span class="org-comment">A collection of inactive tasks</span>
                        <span class="org-string">"|"</span>
                        <span class="org-string">"DONE(d)"</span>
                        <span class="org-string">"KILL(k@)"</span>)
                       <span class="org-comment-delimiter">;; </span><span class="org-comment">Basic Todos for Checkboxes TSWD</span>
                       (sequence <span class="org-string">"[ ](T)"</span> <span class="org-string">"[-](S)"</span> <span class="org-string">"[?](W@/!)"</span> <span class="org-string">"|"</span> <span class="org-string">"[X](D)"</span>))))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd7f8cd1" class="outline-2">
<h2 id="orgd7f8cd1">Bibliography</h2>
<div class="outline-text-2" id="text-orgd7f8cd1">
<p>
The idea is to use <code>Zotero</code> to maintain one updated <code>References.bib</code> file in <code>~/Overleaf/References.bib</code>.
Then manually add symbolic links to this file once in <code>org-directory</code>.
For every Overleaf document, add a symbolic link from the root directory <code>..</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> bibtex-completion-bibliography '(<span class="org-string">"~/Overleaf/References.bib"</span>)
      bibtex-completion-pdf-open-function
      (<span class="org-keyword">lambda</span> (fpath)
        (call-process <span class="org-string">"open"</span> nil 0 nil <span class="org-string">"-a"</span> <span class="org-string">"/Applications/Skim.app"</span> fpath)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf5422ae" class="outline-2">
<h2 id="orgf5422ae">Setting up sunrise and sunset times in <code>org-agenda</code></h2>
<div class="outline-text-2" id="text-orgf5422ae">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Set org agenda sunrise, sunset times</span>
(<span class="org-keyword">setq</span>
 calendar-latitude 40.425869
 calendar-longitude -86.908066)
</pre>
</div>
</div>
</div>
<div id="outline-container-org5f7a070" class="outline-2">
<h2 id="org5f7a070">Start <code>org-agenda</code> from current day</h2>
<div class="outline-text-2" id="text-org5f7a070">
<p>
Setting org-agenda-start-on-weekday to nil means that the agenda view – even in the 7-days-at-a-time view – will always begin on the current day.
This is important, since while using org-mode as a day planner, you never want to think of days gone past.
That’s something you do in other ways, such as when reviewing completed tasks.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! org
  (<span class="org-keyword">setq</span> org-agenda-start-on-weekday nil)
  (<span class="org-keyword">setq</span> org-agenda-start-day <span class="org-string">"-0d"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge5ee3e0" class="outline-2">
<h2 id="orge5ee3e0">Refresh <code>org-agenda</code> files at runtime and startup</h2>
<div class="outline-text-2" id="text-orge5ee3e0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/org-roam-refresh-agenda-list</span> ()
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">setq</span> org-agenda-files (append
                          (list <span class="org-string">"mobile.org"</span> <span class="org-string">"work.org"</span> <span class="org-string">"todo.org"</span> <span class="org-string">"daily.org"</span> <span class="org-string">"personal.org"</span> <span class="org-string">"calendar-beorg.org"</span>)
                          (directory-files (concat org-directory <span class="org-string">"100-projects"</span>) t <span class="org-string">"\\.org$"</span>))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Build the agenda list the first time for the session</span>
(my/org-roam-refresh-agenda-list)
(after! org
  (<span class="org-keyword">setq</span> org-todo-repeat-to-state t
        org-agenda-skip-scheduled-if-done t
        org-agenda-skip-deadline-if-done t
        org-log-done 'time
        org-export-with-toc nil
        org-log-into-drawer t))
</pre>
</div>
</div>
</div>
<div id="outline-container-org19b3ace" class="outline-2">
<h2 id="org19b3ace">Setup <code>org-roam</code></h2>
<div class="outline-text-2" id="text-org19b3ace">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! org-roam
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> org-roam-v2-ack t)
  <span class="org-builtin">:custom</span>
  (<span class="org-keyword">setq</span> org-roam-directory (file-name-concat org-directory <span class="org-string">"RoamNotes"</span>))
  (<span class="org-keyword">setq</span> org-roam-completion-everywhere t)
  (<span class="org-keyword">setq</span> org-roam-capture-templates
        '((<span class="org-string">"d"</span> <span class="org-string">"default"</span> plain
           <span class="org-string">"%?"</span>
           <span class="org-builtin">:if-new</span> (file+head <span class="org-string">"%&lt;%Y%m%d%H%M%S&gt;-${slug}.org"</span> <span class="org-string">"#+title: ${title}\n"</span>)
           <span class="org-builtin">:unnarrowed</span> t)
          (<span class="org-string">"r"</span> <span class="org-string">"bibliography reference"</span> plain
           <span class="org-string">"%?\n%^{author} published %^{entry-type} in %^{date}: fullcite:%\\1."</span>
           <span class="org-builtin">:target</span> (file+head <span class="org-string">"%&lt;%Y%m%d%H%M%S&gt;-${citekey}.org"</span> <span class="org-string">"#+title: ${title}\n"</span>)
           <span class="org-builtin">:unnarrowed</span> t)
          ))
  <span class="org-builtin">:config</span>
  (org-roam-db-autosync-enable))
</pre>
</div>
</div>
</div>
<div id="outline-container-org42e2f00" class="outline-2">
<h2 id="org42e2f00">Setup <code>org-roam-ui</code></h2>
<div class="outline-text-2" id="text-org42e2f00">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! websocket
  <span class="org-builtin">:after</span> org-roam)

(use-package! org-roam-ui
  <span class="org-builtin">:after</span> org-roam <span class="org-comment-delimiter">;; </span><span class="org-comment">or :after org</span>
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">normally we'd recommend hooking orui after org-roam, but since org-roam does not have</span>
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">a hookable mode anymore, you're advised to pick something yourself</span>
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">if you don't care about startup time, use</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">:hook (after-init . org-roam-ui-mode)</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-roam-ui-sync-theme t
        org-roam-ui-follow t
        org-roam-ui-update-on-save t
        org-roam-ui-open-on-start t))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge323cbb" class="outline-2">
<h2 id="orge323cbb">Preserve sub-tree when archiving</h2>
<div class="outline-text-2" id="text-orge323cbb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defadvice</span> <span class="org-function-name">org-archive-subtree</span> (around my-org-archive-subtree activate)
  (<span class="org-keyword">let</span> ((org-archive-location
         (<span class="org-keyword">if</span> (<span class="org-keyword">save-excursion</span> (org-back-to-heading)
                             (&gt; (org-outline-level) 1))
             (concat (car (split-string org-archive-location <span class="org-string">"::"</span>))
                     <span class="org-string">"::* "</span>
                     (car (org-get-outline-path)))
           org-archive-location)))
    ad-do-it))
</pre>
</div>
</div>
</div>
<div id="outline-container-org0bdcee0" class="outline-2">
<h2 id="org0bdcee0">Add ACM Latex classes to Org Export</h2>
<div class="outline-text-2" id="text-org0bdcee0">
<p>
Add ACM articles to the list of <code>org-latex-classes</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! ox-latex
  <span class="org-builtin">:config</span>
  (add-to-list 'org-latex-classes
               '(<span class="org-string">"acmart"</span>
                 <span class="org-string">"\\documentclass{acmart}"</span>
                 (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
                 (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
                 (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org62b6140" class="outline-2">
<h2 id="org62b6140">Do not inherit statistics from tree</h2>
<div class="outline-text-2" id="text-org62b6140">
<p>
From: <a href="https://emacs.stackexchange.com/questions/35778/how-to-make-statistics-cookies-count-any-todo-entries-in-the-subtree-for-the-who">https://emacs.stackexchange.com/questions/35778/how-to-make-statistics-cookies-count-any-todo-entries-in-the-subtree-for-the-who</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! org
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-hierarchical-todo-statistics nil))
</pre>
</div>
</div>
</div>
<div id="outline-container-org19ba04d" class="outline-2">
<h2 id="org19ba04d">Reset sub-tasks</h2>
<div class="outline-text-2" id="text-org19ba04d">
<p>
To reset sub-tasks on completion.
I have repeating projects like laundry, cleaning my car, etc. which on completion needs to reset with all the sub-tasks.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">org-reset-subtask-state-subtree</span> ()
  <span class="org-doc">"Reset all subtasks in an entry subtree."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"*"</span>)
  (<span class="org-keyword">if</span> (org-before-first-heading-p)
      (<span class="org-warning">error</span> <span class="org-string">"Not inside a tree"</span>)
    (<span class="org-keyword">save-excursion</span>
      (<span class="org-keyword">save-restriction</span>
        (org-narrow-to-subtree)
        (org-fold-show-subtree)
        (goto-char (point-min))
        (beginning-of-line 2)
        (narrow-to-region (point) (point-max))
        (org-map-entries
         '(when (member (org-get-todo-state) org-done-keywords)
            (<span class="org-keyword">if</span> (org-entry-get (point) <span class="org-string">"REPEAT_TO_STATE"</span>)
                (org-todo (org-entry-get (point) <span class="org-string">"REPEAT_TO_STATE"</span>))
              (org-todo (car org-todo-keywords)))))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-reset-subtask-state-maybe</span> ()
  <span class="org-doc">"Reset all subtasks in an entry if the `</span><span class="org-doc"><span class="org-constant">RESET_SUBTASKS</span></span><span class="org-doc">' property is set"</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"*"</span>)
  (<span class="org-keyword">if</span> (org-entry-get (point) <span class="org-string">"RESET_SUBTASKS"</span>)
      (org-reset-subtask-state-subtree)))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-subtask-reset</span> ()
  (<span class="org-keyword">when</span> (member org-state org-done-keywords) <span class="org-comment-delimiter">;; </span><span class="org-comment">org-state dynamically bound in org.el/org-todo</span>
    (org-reset-subtask-state-maybe)
    (org-update-statistics-cookies t)))

(after! org
  <span class="org-builtin">:custom</span>
  (<span class="org-keyword">setq</span> org-default-properties (cons <span class="org-string">"RESET_SUBTASKS"</span> org-default-properties))
  (add-hook 'org-after-todo-state-change-hook 'org-subtask-reset)
  (<span class="org-keyword">provide</span> '<span class="org-constant">org-subtask-reset</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-org0aff13a" class="outline-2">
<h2 id="org0aff13a">Org Roam <code>BibTeX</code></h2>
<div class="outline-text-2" id="text-org0aff13a">
</div>
<div id="outline-container-orgad1e3a2" class="outline-3">
<h3 id="orgad1e3a2">Configuration</h3>
<div class="outline-text-3" id="text-orgad1e3a2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! org-roam-bibtex
  <span class="org-builtin">:after</span> org-roam
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">require</span> '<span class="org-constant">org-ref</span>)
  (<span class="org-keyword">setq</span> orb-roam-ref-format 'org-ref-v3)
  (<span class="org-keyword">setq</span> bibtex-completion-notes-path org-roam-directory)) <span class="org-comment-delimiter">; </span><span class="org-comment">optional: if using Org-ref v2 or v3 citation links</span>
(after! helm-bibtex
  (<span class="org-keyword">setq</span> helm-bibtex-full-frame nil)
  (org-roam-bibtex-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org96b854b" class="outline-3">
<h3 id="org96b854b">Keybindings</h3>
<div class="outline-text-3" id="text-org96b854b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(map!
 <span class="org-builtin">:after</span> org-roam
 <span class="org-builtin">:map</span> org-roam-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Orb note actions"</span> <span class="org-string">"b"</span> #'orb-note-actions)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf01a986" class="outline-2">
<h2 id="orgf01a986">Personal Website</h2>
<div class="outline-text-2" id="text-orgf01a986">
</div>
<div id="outline-container-orgc809495" class="outline-3">
<h3 id="orgc809495">Packages</h3>
<div class="outline-text-3" id="text-orgc809495">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! ox-extra
  <span class="org-builtin">:config</span>
  (ox-extras-activate '(latex-header-blocks ignore-headlines)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org12ba056" class="outline-3">
<h3 id="org12ba056"><span class="todo TODO">TODO</span> Export function</h3>
<div class="outline-text-3" id="text-org12ba056">
<p>
Implement
</p>
<ul class="org-ul">
<li>auto-push to Github</li>
<li>auto add latest configuration</li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/org-publishing-function</span> (plist filename pubdir)
  (<span class="org-keyword">interactive</span>)
  (org-html-publish-to-html plist filename pubdir))
</pre>
</div>
</div>
</div>
<div id="outline-container-orga4f69d0" class="outline-3">
<h3 id="orga4f69d0">Configuration</h3>
<div class="outline-text-3" id="text-orga4f69d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defcustom</span> <span class="org-variable-name">website-folder</span> (file-name-concat <span class="org-string">"~/Github"</span> <span class="org-string">"personal-website"</span>)
  <span class="org-doc">"The folder containing the source files for the website."</span>
  <span class="org-builtin">:type</span> '(string))
(<span class="org-keyword">defcustom</span> <span class="org-variable-name">website-build-folder</span> (file-name-concat website-folder <span class="org-string">"_site"</span>)
  <span class="org-doc">"The folder to output the built HTML"</span>
  <span class="org-builtin">:type</span> '(string))
(<span class="org-keyword">defcustom</span> <span class="org-variable-name">website-assets-folder</span> (file-name-concat website-folder <span class="org-string">"assets"</span>)
  <span class="org-doc">"The folder containing all the assets for the website"</span>
  <span class="org-builtin">:type</span> '(string))
(<span class="org-keyword">defcustom</span> <span class="org-variable-name">website-assets-build-folder</span> (file-name-concat website-build-folder <span class="org-string">"assets"</span>)
  <span class="org-doc">"The folder to output the assets"</span>
  <span class="org-builtin">:type</span> '(string))

(<span class="org-keyword">defun</span> <span class="org-function-name">prefix-all-lines</span> (pre body)
  (<span class="org-keyword">with-temp-buffer</span>
    (insert body)
    (string-insert-rectangle (point-min) (point-max) pre)
    (buffer-string)))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-babel-execute:latex-macros</span> (body _params)
  (concat
   (prefix-all-lines <span class="org-string">"#+LATEX_HEADER: "</span> body)
   <span class="org-string">"\n#+HTML_HEAD_EXTRA: &lt;div style=\"display: none\"&gt; </span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">\n"</span>
   (prefix-all-lines <span class="org-string">"#+HTML_HEAD_EXTRA: "</span> body)
   <span class="org-string">"\n#+HTML_HEAD_EXTRA: </span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">&lt;/div&gt;\n"</span>))

(<span class="org-keyword">setq</span> org-publish-project-alist
      (list
       `(<span class="org-string">"org"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:base-directory</span> ,website-folder
         <span class="org-builtin">:publishing-directory</span> ,website-build-folder
         <span class="org-builtin">:section-numbers</span> nil
         <span class="org-builtin">:auto-sitemap</span> t
         <span class="org-builtin">:makeindex</span> t
         <span class="org-builtin">:publishing-function</span> my/org-publishing-function)
       `(<span class="org-string">"static"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:base-directory</span> ,website-assets-folder
         <span class="org-builtin">:publishing-directory</span> ,website-assets-build-folder
         <span class="org-builtin">:base-extension</span> <span class="org-string">"css</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">js</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">png</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">jpg</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">gif</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">pdf</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">pptx"</span>
         <span class="org-builtin">:publishing-function</span> org-publish-attachment)
       '(<span class="org-string">"personal-website"</span> <span class="org-builtin">:components</span> (<span class="org-string">"org"</span> <span class="org-string">"static"</span>))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd61a860" class="outline-2">
<h2 id="orgd61a860">Projectile</h2>
<div class="outline-text-2" id="text-orgd61a860">
</div>
<div id="outline-container-org7848811" class="outline-3">
<h3 id="org7848811">Configuration</h3>
<div class="outline-text-3" id="text-org7848811">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> projectile-project-search-path
      (list <span class="org-string">"~/Overleaf"</span> <span class="org-string">"~/Github"</span> website-build-folder))
</pre>
</div>
</div>
</div>
<div id="outline-container-org8308b84" class="outline-3">
<h3 id="org8308b84">Broken search fix</h3>
<div class="outline-text-3" id="text-org8308b84">
<p>
from <a href="https://github.com/doomemacs/doomemacs/issues/3038">https://github.com/doomemacs/doomemacs/issues/3038</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Will only work on macos/linux</span>
(after! counsel
  (<span class="org-keyword">setq</span> counsel-rg-base-command <span class="org-string">"rg -M 10000 --with-filename --no-heading --line-number --color never %s || true"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-org1cb1c6c" class="outline-3">
<h3 id="org1cb1c6c">Default action is to open <code>dired</code></h3>
<div class="outline-text-3" id="text-org1cb1c6c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/projectile-dired-open</span> ()
  <span class="org-doc">"Open the project root in Dired."</span>
  (dired (projectile-project-root)))
(after! projectile
  (<span class="org-keyword">setq</span> projectile-switch-project-action #'projectile-dired))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org695ec83" class="outline-2">
<h2 id="org695ec83">Project local snippets</h2>
<div class="outline-text-2" id="text-org695ec83">
<p>
Inspired from here: <a href="https://www.reddit.com/r/emacs/comments/57i41t/projectlocal_snippets/">https://www.reddit.com/r/emacs/comments/57i41t/projectlocal_snippets/</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! helm-projectile
  (<span class="org-keyword">defun</span> <span class="org-function-name">crshd/set-projectile-yas-dir</span> ()
    <span class="org-doc">"Append a projectile-local YAS snippet dir to yas-snippet-dirs."</span>
    (<span class="org-keyword">interactive</span>)
    (<span class="org-keyword">let</span> ((local-yas-dir (concat (projectile-project-root) <span class="org-string">".snippets"</span>)))
      (<span class="org-keyword">when</span> (file-directory-p local-yas-dir)
        (add-to-list 'yas-snippet-dirs local-yas-dir)
        (yas-reload-all))))

  (add-hook 'projectile-find-file-hook 'crshd/set-projectile-yas-dir))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfd1a0d8" class="outline-2">
<h2 id="orgfd1a0d8">LaTeX</h2>
<div class="outline-text-2" id="text-orgfd1a0d8">
</div>
<div id="outline-container-orgb9310cb" class="outline-3">
<h3 id="orgb9310cb">Prevent compiler from stealing focus</h3>
<div class="outline-text-3" id="text-orgb9310cb">
<p>
Tweaked the code from <a href="https://github.com/doomemacs/doomemacs/blob/master/modules/lang/latex/%2Bviewers.el">https://github.com/doomemacs/doomemacs/blob/master/modules/lang/latex/%2Bviewers.el</a> so that Skim uses the <code>-g</code> option which prevents Skim from stealing the focus.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! tex
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">dolist</span> (viewer (reverse +latex-viewers))
    (<span class="org-keyword">pcase</span> viewer
      (`skim
       (<span class="org-keyword">when-let</span>
           (app-path
            (<span class="org-keyword">and</span> IS-MAC
                 (file-exists-p! (<span class="org-keyword">or</span> <span class="org-string">"/Applications/Skim.app"</span>
                                     <span class="org-string">"~/Applications/Skim.app"</span>))))
         (add-to-list 'TeX-view-program-selection '(output-pdf <span class="org-string">"Skim"</span>))
         (add-to-list 'TeX-view-program-list
                      (list <span class="org-string">"Skim"</span> (format <span class="org-string">"%s/Contents/SharedSupport/displayline -r -b -g %%n %%o %%b"</span>
                                           app-path)))))))
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-org8bb5b43" class="outline-3">
<h3 id="org8bb5b43">Remove Superscript and subscript specialization</h3>
<div class="outline-text-3" id="text-org8bb5b43">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> font-latex-fontify-script nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3d48042" class="outline-3">
<h3 id="org3d48042">Disable company in latex mode</h3>
<div class="outline-text-3" id="text-org3d48042">
<p>
Company is annoying in LaTeX mode.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(after! company (cl-callf nconc company-global-modes (list 'latex-mode)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebd96df" class="outline-3">
<h3 id="orgebd96df">Remove spellcheck in latex mode</h3>
<div class="outline-text-3" id="text-orgebd96df">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook! 'TeX-mode-hook
           <span class="org-comment-delimiter">;;</span><span class="org-comment">(hl-todo-mode) ; TODO</span>
           <span class="org-comment-delimiter">;; </span><span class="org-comment">Flycheck with both chktex and lacheck both just bother me with</span>
           <span class="org-comment-delimiter">;; </span><span class="org-comment">worthless advice all the time. when my paper doesn't compile I'll re-</span>
           <span class="org-comment-delimiter">;; </span><span class="org-comment">enable them.</span>
           (flycheck-mode -1))
</pre>
</div>
</div>
</div>
<div id="outline-container-org73813a6" class="outline-3">
<h3 id="org73813a6">Key Bindings</h3>
<div class="outline-text-3" id="text-org73813a6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(map!
 <span class="org-builtin">:map</span> LaTeX-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Insert Environment"</span> <span class="org-string">"e"</span> #'LaTeX-environment)
(map!
 <span class="org-builtin">:map</span> LaTeX-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Insert Yasnippet"</span> <span class="org-string">"y"</span> #'yas-insert-snippet)
(map!
 <span class="org-builtin">:map</span> LaTeX-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Insert Section"</span> <span class="org-string">"s"</span> #'LaTeX-section)
(map!
 <span class="org-builtin">:map</span> LaTeX-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Insert Macros"</span> <span class="org-string">"."</span> #'TeX-insert-macro)
(map!
 <span class="org-builtin">:map</span> LaTeX-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Insert Fonts"</span> <span class="org-string">"t"</span> #'TeX-font)
(map!
 <span class="org-builtin">:map</span> projectile-mode-map
 <span class="org-builtin">:desc</span> <span class="org-string">"Open the terminal"</span> <span class="org-string">"C-j"</span> #'+vterm/toggle)
</pre>
</div>
</div>
</div>
<div id="outline-container-org9fa1658" class="outline-3">
<h3 id="org9fa1658">Output files in build folder</h3>
<div class="outline-text-3" id="text-org9fa1658">
<p>
Please do not corrupt my source directory with trash.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> TeX-output-dir <span class="org-string">"build"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org9cc8229" class="outline-3">
<h3 id="org9cc8229">Use <code>LTeX</code> for better grammar</h3>
<div class="outline-text-3" id="text-org9cc8229">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> lsp-ltex
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> (TeX-mode . (<span class="org-keyword">lambda</span> ()
                      (<span class="org-keyword">require</span> '<span class="org-constant">lsp-ltex</span>)
                      (lsp)))  <span class="org-comment-delimiter">; </span><span class="org-comment">or lsp-deferred</span>
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> lsp-ltex-version <span class="org-string">"16.0.0"</span>)
  (<span class="org-keyword">setq</span> lsp-ltex-disabled-rules '(<span class="org-builtin">:en</span> [<span class="org-string">"MORFOLOGIK_RULE_EN_US"</span>])))
<span class="org-comment-delimiter">;; </span><span class="org-comment">Set LTeX LS variables</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd22986a" class="outline-3">
<h3 id="orgd22986a">Use <code>digestif</code> LSP server</h3>
<div class="outline-text-3" id="text-orgd22986a">
<p>
If <code>texlab</code> is not installed, <code>digestif</code> is the default <code>lsp</code> server.
</p>
<ul class="org-ul">
<li>Install <code>digestif</code> using <code>luarocks install digestif</code></li>
<li>Install <code>texlab</code> using <code>brew install texlab</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(after! lsp</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">:config</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq lsp-tex-server 'digestif))</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb387f7d" class="outline-2">
<h2 id="orgb387f7d">LaTeX do not ignore warnings</h2>
<div class="outline-text-2" id="text-orgb387f7d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> TeX-ignore-warnings t)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfa04e34" class="outline-2">
<h2 id="orgfa04e34">(FIX) Mu4e <code>[0/3]</code></h2>
<div class="outline-text-2" id="text-orgfa04e34">
</div>
<div id="outline-container-org1c0c5de" class="outline-3">
<h3 id="org1c0c5de">FIX Sending mail does not work</h3>
</div>
<div id="outline-container-org05f3b4d" class="outline-3">
<h3 id="org05f3b4d">FIX Auto-sync does not work</h3>
<div class="outline-text-3" id="text-org05f3b4d">
<p>
Try removing the password/encryption in <code>mutt_oauth2.py</code>
</p>
</div>
</div>
<div id="outline-container-org287e0e8" class="outline-3">
<h3 id="org287e0e8">Configuration</h3>
<div class="outline-text-3" id="text-org287e0e8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! mu4e
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span>
   mu4e-change-filenames-when-moving t
   mu4e-get-mail-command <span class="org-string">"mbsync -a"</span>
   mu4e-context-policy 'pick-first
   mu4e-update-interval (* 10 60))
  (<span class="org-keyword">setq</span> mu4e-contexts
        (list
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Personal account</span>
         (make-mu4e-context
          <span class="org-builtin">:name</span> <span class="org-string">"Personal"</span>
          <span class="org-builtin">:match-func</span>
          (<span class="org-keyword">lambda</span> (msg)
            (<span class="org-keyword">when</span> msg
              (string-prefix-p <span class="org-string">"/gmail"</span> (mu4e-message-field msg <span class="org-builtin">:maildir</span>))))
          <span class="org-builtin">:vars</span> `((user-mail-address . <span class="org-string">"dth.bht@gmail.com"</span>)
                  (user-full-name . <span class="org-string">"Adithya Bhat"</span>)
                  (mu4e-drafts-folder . <span class="org-string">"/gmail/Drafts"</span>)
                  (mu4e-sent-folder . <span class="org-string">"/gmail/Sent Mail"</span>)
                  (mu4e-refile-folder . <span class="org-string">"/gmail/All Mail"</span>)
                  (mu4e-trash-folder . <span class="org-string">"/gmail/Trash"</span>)))
         <span class="org-comment-delimiter">;; </span><span class="org-comment">Work account</span>
         (make-mu4e-context
          <span class="org-builtin">:name</span> <span class="org-string">"Work"</span>
          <span class="org-builtin">:match-func</span>
          (<span class="org-keyword">lambda</span> (msg)
            (<span class="org-keyword">when</span> msg
              (string-prefix-p <span class="org-string">"/purdue"</span> (mu4e-message-field msg <span class="org-builtin">:maildir</span>))))
          <span class="org-builtin">:vars</span> '((user-mail-address . <span class="org-string">"bhat24@purdue.edu"</span>)
                  (user-full-name . <span class="org-string">"Adithya Bhat"</span>)
                  (mu4e-drafts-folder . <span class="org-string">"/purdue/Drafts"</span>)
                  (mu4e-sent-folder . <span class="org-string">"/purdue/Sent Mail"</span>)
                  (mu4e-refile-folder . <span class="org-string">"/purdue/All Mail"</span>)
                  (mu4e-trash-folder . <span class="org-string">"/purdue/Trash"</span>))))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(after! mu4e</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(setq</span>
<span class="org-comment-delimiter">;;    </span><span class="org-comment">sendmail-program (executable-find "msmtp")</span>
<span class="org-comment-delimiter">;;    </span><span class="org-comment">message-sendmail-extra-arguments '("--read-envelope-from")</span>
<span class="org-comment-delimiter">;;    </span><span class="org-comment">message-send-mail-function #'message-send-mail-with-sendmail</span>
<span class="org-comment-delimiter">;;    </span><span class="org-comment">send-mail-function #'smtpmail-send-it))</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">;;     ;; message-sendmail-f-is-evil t</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfb9c255" class="outline-2">
<h2 id="orgfb9c255">Others</h2>
<div class="outline-text-2" id="text-orgfb9c255">
</div>
<div id="outline-container-org97748c0" class="outline-3">
<h3 id="org97748c0">Helper functions</h3>
<div class="outline-text-3" id="text-org97748c0">
</div>
<div id="outline-container-orgd856ea3" class="outline-4">
<h4 id="orgd856ea3">Fresh install</h4>
<div class="outline-text-4" id="text-orgd856ea3">
<p>
A function to do things that I need to do on every <code>doom upgrade</code> run like compile <code>vterm</code> and <code>pdf-tools</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/after-fresh-install</span> ()
  (<span class="org-keyword">interactive</span>)
  (pdf-tools-install)
  (vterm-module-compile))
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaf3f8a4" class="outline-2">
<h2 id="orgaf3f8a4">LaTeX add <code>chktex</code> shortcut</h2>
<div class="outline-text-2" id="text-orgaf3f8a4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(after! tex
  (map! <span class="org-builtin">:localleader</span>
        <span class="org-builtin">:map</span> latex-mode-map
        <span class="org-builtin">:desc</span> <span class="org-string">"Check Latex for Warnings (chktex)"</span> <span class="org-string">"w"</span> #'tex-chktex-command))
</pre>
</div>
</div>
</div>

<div id="outline-container-org45c98af" class="outline-2">
<h2 id="org45c98af">Configure LSP</h2>
<div class="outline-text-2" id="text-org45c98af">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package! lsp-mode
  <span class="org-builtin">:ensure</span>
  <span class="org-builtin">:custom</span>
  (lsp-inlay-hint-enable t)
  (add-hook 'rustic-mode #'lsp-inlay-hints-mode)
  (lsp-auto-execute-action nil)
  (lsp-rust-analyzer-display-lifetime-elision-hints-enable <span class="org-string">"skip_trivial"</span>)
  (lsp-rust-analyzer-display-chaining-hints t)
  (lsp-rust-analyzer-display-parameter-hints t)
  (lsp-rust-analyzer-display-closure-return-type-hints t)
  <span class="org-builtin">:config</span>
  (add-hook 'lsp-mode-hook 'lsp-ui-mode))
(map!
 <span class="org-builtin">:after</span> rust-mode
 <span class="org-builtin">:map</span> rustic-mode-map
 <span class="org-builtin">:localleader</span>
 <span class="org-builtin">:desc</span> <span class="org-string">"Custom actions"</span> <span class="org-string">"a"</span> #'lsp-rust-analyzer-open-cargo-toml)
</pre>
</div>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> lsp-ui
  <span class="org-builtin">:ensure</span>
  <span class="org-builtin">:custom</span>
  (lsp-ui-peek-always-show t)
  (lsp-ui-sideline-show-hover t)
  (lsp-ui-sideline-show-diagnostics t)
  (lsp-ui-sideline-show-code-actions t)
  (lsp-ui-doc-enable nil))
</pre>
</div>
</div>
</div>
<div id="outline-container-org126173d" class="outline-2">
<h2 id="org126173d">Custom Functions</h2>
<div class="outline-text-2" id="text-org126173d">
</div>
<div id="outline-container-org931ffec" class="outline-3">
<h3 id="org931ffec">Get all files in an attachment folder</h3>
<div class="outline-text-3" id="text-org931ffec">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">my/org/find-attachments-in-directory</span> (directory)
  <span class="org-doc">"Find all attachments in DIRECTORY and output Org links with filenames as link names."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"DDirectory: "</span>)
  (<span class="org-keyword">let</span> ((attachments (directory-files-recursively directory <span class="org-string">".*"</span>)))
    (<span class="org-keyword">dolist</span> (file attachments)
      (<span class="org-keyword">let</span> ((filename (file-name-nondirectory file)))
        (insert (format <span class="org-string">"- [[file:%s][%s]]\n"</span> file filename))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-org34389d7" class="outline-3">
<h3 id="org34389d7">Get all tasks with DONE and KILL keywords</h3>
<div class="outline-text-3" id="text-org34389d7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-modules 'org-ql)

(<span class="org-keyword">defun</span> <span class="org-function-name">my/weekly-review/org-find-done-kill-wait-tasks-in-agenda-files</span> ()
  <span class="org-doc">"Find all Org tasks with DONE, KILL, and WAIT keywords in all Org agenda files and output a list with links to these tasks."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((output-file <span class="org-string">"~/weekly-review.org"</span>)
        (done-kill-tasks '())
        (wait-tasks '())
        (proj-tasks '()))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Helper function to get the heading and link for each task</span>
    (<span class="org-keyword">defun</span> <span class="org-function-name">my/get-task-link</span> ()
      (<span class="org-keyword">let</span> ((heading (org-get-heading t t t t))
            (link (org-id-get-create)))
        (format <span class="org-string">"[[id:%s][%s]]"</span> link heading)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Query for DONE and KILL tasks</span>
    (<span class="org-keyword">setq</span> done-kill-tasks
          (org-ql-query
           <span class="org-builtin">:select</span> '(my/get-task-link)
           <span class="org-builtin">:from</span> (org-agenda-files)
           <span class="org-builtin">:where</span> '(or (todo <span class="org-string">"DONE"</span>)
                       (todo <span class="org-string">"KILL"</span>))))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Query for WAIT tasks</span>
    (<span class="org-keyword">setq</span> wait-tasks
          (org-ql-query
           <span class="org-builtin">:select</span> '(my/get-task-link)
           <span class="org-builtin">:from</span> (org-agenda-files)
           <span class="org-builtin">:where</span> '(todo <span class="org-string">"WAIT"</span>)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Query for PROJ tasks</span>
    (<span class="org-keyword">setq</span> proj-tasks
          (org-ql-query
           <span class="org-builtin">:select</span> '(my/get-task-link)
           <span class="org-builtin">:from</span> (org-agenda-files)
           <span class="org-builtin">:where</span> '(todo <span class="org-string">"PROJ"</span>)))

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Write results to output file</span>
    (<span class="org-keyword">with-temp-buffer</span>
      (insert <span class="org-string">"#+TITLE: Weekly Review\n\n"</span>)
      (insert <span class="org-string">"* Tasks to Archive [/]\n"</span>)
      (<span class="org-keyword">dolist</span> (task done-kill-tasks)
        (insert (format <span class="org-string">"- [ ] %s\n"</span> task)))
      (insert <span class="org-string">"* Waiting Tasks [/]\n"</span>)
      (<span class="org-keyword">dolist</span> (task wait-tasks)
        (insert (format <span class="org-string">"- [ ] %s\n"</span> task)))
      (insert <span class="org-string">"* Non-current Projects [/]\n"</span>)
      (<span class="org-keyword">dolist</span> (task proj-tasks)
        (insert (format <span class="org-string">"- [ ] %s\n"</span> task)))
      (write-file output-file))
    (message <span class="org-string">"Tasks with DONE, KILL, WAIT, and PROJ keywords have been written to %s"</span> output-file)))
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org1e9bb28" class="outline-2">
<h2 id="org1e9bb28">Co-pilot</h2>
<div class="outline-text-2" id="text-org1e9bb28">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> copilot-node-executable <span class="org-string">"/opt/homebrew/bin/node"</span>)
<span class="org-comment-delimiter">;; </span><span class="org-comment">accept completion from copilot and fallback to company</span>
(use-package! copilot
  <span class="org-builtin">:hook</span> ((prog-mode . copilot-mode)
         (TeX-mode . copilot-mode))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> copilot-completion-map
              (<span class="org-string">"&lt;tab&gt;"</span> . 'copilot-accept-completion)
              (<span class="org-string">"TAB"</span> . 'copilot-accept-completion)
              (<span class="org-string">"C-TAB"</span> . 'copilot-accept-completion-by-word)
              (<span class="org-string">"C-&lt;tab&gt;"</span> . 'copilot-accept-completion-by-word)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge3ec042" class="outline-2">
<h2 id="orge3ec042">Org Modules</h2>
<div class="outline-text-2" id="text-orge3ec042">
<ol class="org-ol">
<li><p>
Get <code>org-checklist</code> so that we can reset checkboxes in a todo item.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">https://orgmode.org/worg/org-contrib/org-checklist.html</span>
(add-to-list 'org-modules 'org-checklist)
</pre>
</div></li>
<li><p>
Get <code>org-depend</code> so that we can use <code>:TRIGGER: chain-siblings(TODO)</code>, and <code>:TRIGGER: chain-siblings-scheduled</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">https://orgmode.org/worg/org-contrib/org-depend.html</span>
(add-to-list 'org-modules 'org-depend)
</pre>
</div></li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(insert-file-contents <span class="org-string">"~/.config/doom/config.org"</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: June 10, 2023</p>
<p class="author">Author: Adithya Bhat</p>
<p class="date">Created: 2024-07-31 Wed 21:51</p>
</div>
</body>
</html>
